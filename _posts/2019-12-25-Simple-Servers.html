---
title: Simple Servers
date: 2019-12-25
layout: post
medium: https://medium.com/mobile-development-group/simple-servers-cc465f340658
---
<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Simple Servers</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Simple Servers</h1>
</header>
<section data-field="subtitle" class="p-summary">
This blog will help you establish the most basic server right on your computer. We shall be covering some theory with simple code…
</section>
<section data-field="body" class="e-content">
<section name="8555" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--outsetColumn"><figure name="d6fa" id="d6fa" class="graf graf--figure graf--layoutOutsetCenter graf--leading"><img class="graf-image" data-image-id="0*0rW_QpMizH-BiO_v" data-width="4192" data-height="3144" data-unsplash-photo-id="daSq9zhROxY" data-is-featured="true" alt="Port for a country!" src="https://cdn-images-1.medium.com/max/1200/0*0rW_QpMizH-BiO_v"></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="017d" id="017d" class="graf graf--h3 graf-after--figure graf--title">Simple Servers</h3><blockquote name="8284" id="8284" class="graf graf--pullquote graf-after--h3">This blog will help you establish the most basic server right on your computer. We shall be covering some theory with simple code explanation to follow to create a server. The blog aims to make you familiar with the working of the simplest server.</blockquote><!--break--><p name="343b" id="343b" class="graf graf--p graf-after--pullquote"><strong class="markup--strong markup--p-strong">Prerequisites</strong></p><p name="04ae" id="04ae" class="graf graf--p graf-after--p">A little knowledge of computer systems and some programming would be enough to understand the content. This blog ought to be one of your first blogs on networking and its architecture. An interest in the topic will be sufficient to move forward.</p><p name="ec79" id="ec79" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Introduction</strong></p><p name="cd3a" id="cd3a" class="graf graf--p graf-after--p">In this information age, where most, if not all the devices around us are getting connected, the internet stands as the most revolutionising technology used in our daily life, providing room for a great many opportunities.</p><p name="f3c4" id="f3c4" class="graf graf--p graf-after--p">The internet is a network of a large number of devices connected and sharing information, together forming the WWW. This technology lays down the path to various computer science areas and sub-disciplines like cloud computing, IoT, Cybersecurity, web development…</p><p name="e643" id="e643" class="graf graf--p graf-after--p">It all comes down to the basic knowledge of servers and clients and how the network works. In this blog, I shall be describing the simplest server-client communication based on sockets and how to get that public. So, let’s begin!</p><p name="0377" id="0377" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Servers and Clients</strong></p><p name="5a58" id="5a58" class="graf graf--p graf-after--p">For those who don’t know, in the simplest case, a network connection between 2 devices generally involves a machine (<strong class="markup--strong markup--p-strong">server</strong>) which provides functionality (help) to the other device (<strong class="markup--strong markup--p-strong">client</strong>) in its operation. Typically, they communicate using requests and response.</p><figure name="c0b5" id="c0b5" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*swCmuUB-qMDfK-3ENHWKQQ.jpeg" data-width="792" data-height="290" src="https://cdn-images-1.medium.com/max/800/1*swCmuUB-qMDfK-3ENHWKQQ.jpeg"></figure><p name="9453" id="9453" class="graf graf--p graf-after--figure">Before moving ahead, Let me introduce the following terms:</p><h4 name="34eb" id="34eb" class="graf graf--h4 graf-after--p">Network Interface</h4><p name="09bc" id="09bc" class="graf graf--p graf-after--h4">Communication between your computer and the network is through a network interface. Generally present in the form of a network interface card(NIC), virtual interfaces can also be implemented using software. Loopback Interface (mentioned below) is an excellent example of this. Use <code class="markup--code markup--p-code u-paddingRight0 u-marginRight0">if<em class="markup--em markup--p-em">config</em></code><em class="markup--em markup--p-em"> in Linux and </em><code class="markup--code markup--p-code"><em class="markup--em markup--p-em">ipconfig</em></code><em class="markup--em markup--p-em"> in Windows for getting the list and details of the interfaces on your device. </em>Generally, <code class="markup--code markup--p-code">wl/wlan</code> represent <code class="markup--code markup--p-code">wlan</code> interface, <code class="markup--code markup--p-code">eth/en</code> represent <code class="markup--code markup--p-code">ethernet</code> and <code class="markup--code markup--p-code">lo</code> represent the loopback virtual interface.</p><h4 name="5e89" id="5e89" class="graf graf--h4 graf-after--p">Sockets and ports</h4><p name="47d5" id="47d5" class="graf graf--p graf-after--h4">OK! So we are ready for a connection, aren’t we?</p><figure name="e54a" id="e54a" class="graf graf--figure graf--layoutOutsetLeft graf-after--p"><img class="graf-image" data-image-id="1*8ZWO1X3kOYj9JsuqYCRwTA.jpeg" data-width="478" data-height="397" src="https://cdn-images-1.medium.com/max/600/1*8ZWO1X3kOYj9JsuqYCRwTA.jpeg"><figcaption class="imageCaption">Socket-port</figcaption></figure><p name="3522" id="3522" class="graf graf--p graf-after--figure">Well, every connection has two ends. And in our case, one is with the client, and one is with the server. At both the end, network writes the received data packets to a file dedicated for that particular connection. Sockets are the file descriptor to the file, which is used to write the data.</p><p name="8c29" id="8c29" class="graf graf--p graf-after--p">Any application may be up at any time to communicate on the connection or establish new ones. Every program should naturally keep an eye on separate file descriptor on the same device. How to handle making separate files for each? and how would new requests from the same device or other be handled, so that they communicate with the exact application they want to? For this, we add a <strong class="markup--strong markup--p-strong">Port </strong>number to the network address of the device to identify them separately. Thus, we get a unique <strong class="markup--strong markup--p-strong">address:port</strong> combination to reach a particular address. It is like a set of (non-physical) channels where a process can dock to wait for new connections. This combination is called Socket address and is then used to identify separate sockets to identify the file to write data to. Evidently, the targeted application will be listening on the same socket. There are some standard port numbers which various server process take to listen to new requests. Have a look on this <a href="https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers" data-href="https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">wiki</a>.</p><h4 name="f55e" id="f55e" class="graf graf--h4 graf-after--p">Localhost</h4><figure name="6aec" id="6aec" class="graf graf--figure graf--layoutOutsetLeft graf-after--h4"><img class="graf-image" data-image-id="1*FgamLzZwvdMEHnRMHA6_lw.jpeg" data-width="600" data-height="770" src="https://cdn-images-1.medium.com/max/600/1*FgamLzZwvdMEHnRMHA6_lw.jpeg"><figcaption class="imageCaption">Just Localhost things!</figcaption></figure><p name="b3ea" id="b3ea" class="graf graf--p graf-after--figure">Yo! this is where things get interesting! hmm…</p><p name="9e7c" id="9e7c" class="graf graf--p graf-after--p">Say your server is ready to be used. You got to check if it is working before deployment! Now Localhost is how you can do so.</p><p name="a6ef" id="a6ef" class="graf graf--p graf-after--p">As the name suggests, it is used to access network services running on the same device (thus fit for our use). What actually happens is that any request to the localhost isn’t forwarded to the external network interface, but to the <strong class="markup--strong markup--p-strong">Loopback interface</strong>. So, we can request any process listening to a socket on the loopback address from the same device itself! The addresses <code class="markup--code markup--p-code">127/8</code> (<code class="markup--code markup--p-code">127.0.0.0</code> - <code class="markup--code markup--p-code">127.255.255.255</code>) are bound to the loopback interface.</p><blockquote name="7c99" id="7c99" class="graf graf--blockquote graf-after--p">The word ‘localhost’ is mapped to <strong class="markup--strong markup--blockquote-strong">127.0.0.1</strong> for you already! (Look at the <code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">/etc/hosts</em></code> file in Linux). Just set up your server to listen to any port* on the localhost and try pinging it!!</blockquote><p name="0804" id="0804" class="graf graf--p graf-after--blockquote">Moving further, there’s another interesting address: <strong class="markup--strong markup--p-strong">0.0.0.0</strong>. It is the joker IP address where we do not want to specify a particular IP address for our connection. If any data directed to the computer (by any IP address) through any interface (including loopback) is received, you can listen to it via the ‘joker’ address, on the particular port. Thus, it can be used as an IP address in the server instead of any particular IP address from any interface. This will enable you to connect to your server from any device in all the network the device is connected.</p><ul class="postList"><li name="0c35" id="0c35" class="graf graf--li graf-after--p graf--trailing"><em class="markup--em markup--li-em">Ports 1–1024 are privileged so don’t use them (or get </em><code class="markup--code markup--li-code"><em class="markup--em markup--li-em">root</em></code><em class="markup--em markup--li-em"> permission).</em></li></ul></div></div></section><section name="f522" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="08df" id="08df" class="graf graf--h4 graf--leading">Let’s get our hand dirty!</h4><p name="e90a" id="e90a" class="graf graf--p graf-after--h4">So, after much of the concepts, finally, it’s time to get to some code. I planned to provide the steps with their explanation! But I found resources like <a href="https://www.geeksforgeeks.org/socket-programming-cc/" data-href="https://www.geeksforgeeks.org/socket-programming-cc/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">this</a> helpful as well. Meanwhile, you can have a look at some code explanation here.</p><figure name="a407" id="a407" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/dev-ritik/5b6d0b17628abcd6c2b79090d77430ec.js"></script><figcaption class="imageCaption">Server code</figcaption></figure><figure name="1356" id="1356" class="graf graf--figure graf--iframe graf-after--figure"><script src="https://gist.github.com/dev-ritik/695114ca0829cf4ba22cf1f7ca6ae2da.js"></script><figcaption class="imageCaption">Client Code</figcaption></figure><blockquote name="39d7" id="39d7" class="graf graf--blockquote graf-after--figure">Run the Server code in a terminal. The server will start waiting for a client request. Next, run the client code in a different terminal. If you had done it right, the server and the client must have exchanged their messages.</blockquote><p name="fb2f" id="fb2f" class="graf graf--p graf-after--blockquote">But broadly, the steps are as follows:</p><ul class="postList"><li name="ba95" id="ba95" class="graf graf--li graf-after--p">Make a socket object providing various options and types and protocols.</li><li name="72ad" id="72ad" class="graf graf--li graf-after--li">bind to an interface or all.</li><li name="48bf" id="48bf" class="graf graf--li graf-after--li">Start listening to the socket and respond to incoming requests.</li><li name="7865" id="7865" class="graf graf--li graf-after--li">Read and Write to the socket file.</li></ul><h4 name="0118" id="0118" class="graf graf--h4 graf-after--li">Examples</h4><div name="c501" id="c501" class="graf graf--mixtapeEmbed graf-after--h4"><a href="https://github.com/vishwasmittal/bare-socket" data-href="https://github.com/vishwasmittal/bare-socket" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/vishwasmittal/bare-socket"><strong class="markup--strong markup--mixtapeEmbed-strong">vishwasmittal/bare-socket</strong><br><em class="markup--em markup--mixtapeEmbed-em">Simple server and corresponding client written in bare sockets in multiple languages. The server should be written in…</em>github.com</a><a href="https://github.com/vishwasmittal/bare-socket" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="ae5933de3447acfb47cd633619396b67" data-thumbnail-img-id="0*rdnIX82T8kxbUAbh" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*rdnIX82T8kxbUAbh);"></a></div><p name="8e4b" id="8e4b" class="graf graf--p graf-after--mixtapeEmbed">Simple implementation of Socket based server-client programs in multiple languages.</p><div name="c638" id="c638" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://github.com/dev-ritik/files_share" data-href="https://github.com/dev-ritik/files_share" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/dev-ritik/files_share"><strong class="markup--strong markup--mixtapeEmbed-strong">dev-ritik/files_share</strong><br><em class="markup--em markup--mixtapeEmbed-em">Web development proficiency. Contribute to dev-ritik/files_share development by creating an account on GitHub.</em>github.com</a><a href="https://github.com/dev-ritik/files_share" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="b4eea07092d23316b062bc54b08b407b" data-thumbnail-img-id="0*3XbWec0q6gM7tL9X" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*3XbWec0q6gM7tL9X);"></a></div><p name="d7b4" id="d7b4" class="graf graf--p graf-after--mixtapeEmbed">File sharing web and command-line app in C++ based on sockets.</p><h4 name="a9a2" id="a9a2" class="graf graf--h4 graf-after--p">Frameworks</h4><p name="7132" id="7132" class="graf graf--p graf-after--h4">Well, Socket level programming is not done generally in the production servers. These are abstracted and handled by various popular frameworks developers use to build and deploy a production-grade web application to handle real-time traffic from users. While developing simple web applications you may not even know what’s going at the socket level and how connections are handled. Having a framework comes with lots of benefits apart from abstraction. They may be fast, scalable, secure and tested, well documented, have good community support, etc. Some of the leading frameworks of 2020 can be found <a href="https://medium.com/front-end-weekly/10-most-popular-web-frameworks-in-2020-167b9103e08a" data-href="https://medium.com/front-end-weekly/10-most-popular-web-frameworks-in-2020-167b9103e08a" class="markup--anchor markup--p-anchor" target="_blank">here</a>.</p><h4 name="7571" id="7571" class="graf graf--h4 graf-after--p">Going Public</h4><p name="4b5d" id="4b5d" class="graf graf--p graf-after--h4">It’s quite cool and sometimes important to be able to access the server on your device from some other device. As such, it’s easy to do so. If you are not on a public-facing device (connected directly to the internet with public IP), you need to use some tricks to be available to anyone on the internet.</p><p name="ac9a" id="ac9a" class="graf graf--p graf-after--p">For the former case, directly use 0.0.0.0 or your public IP address as the IP address to host your server. For the latter case, we can achieve the same within the private network. Host the server on 0.0.0.0 or the assigned private IP address of the device on the network*. Now on the new device (on the same private network), use that same private IP:port to access the service.</p><p name="b50c" id="b50c" class="graf graf--p graf-after--p">To make your server public from a private network, have a look on how to do it through <a href="https://stevessmarthomeguide.com/understanding-port-forwarding/" data-href="https://stevessmarthomeguide.com/understanding-port-forwarding/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Port Forwarding</a>. You may be required to take the help of your ISP here. If that looks complex, you can use services like <a href="https://ngrok.com/" data-href="https://ngrok.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ngrok</a> or <a href="http://serveo.net/" data-href="http://serveo.net/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Serveo</a>. They help to directly and simply do the task for you.</p><p name="76f5" id="76f5" class="graf graf--p graf-after--p">*<em class="markup--em markup--p-em">Use </em><code class="markup--code markup--p-code"><em class="markup--em markup--p-em">ifconfig</em></code><em class="markup--em markup--p-em"> in Linux and </em><code class="markup--code markup--p-code"><em class="markup--em markup--p-em">ipconfig</em></code><em class="markup--em markup--p-em"> in Windows for getting the private IP address.</em></p><h4 name="6750" id="6750" class="graf graf--h4 graf-after--p">CLI Utilities</h4><p name="5f32" id="5f32" class="graf graf--p graf-after--h4">There are a bunch of useful utilities to test and interact with servers on the network. These include <strong class="markup--strong markup--p-strong">Ping</strong>, <strong class="markup--strong markup--p-strong">Curl</strong>, <strong class="markup--strong markup--p-strong">Wget</strong>, etc.</p><ul class="postList"><li name="440f" id="440f" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Curl</strong>:</li></ul><pre name="4013" id="4013" class="graf graf--pre graf-after--li">$ curl localhost:8000 <br>&lt;HTML&gt;<br>&lt;Head&gt;<br> &lt;Title&gt;Title: Bare Socket&lt;/Title&gt;<br>&lt;/Head&gt;</pre><pre name="42ce" id="42ce" class="graf graf--pre graf-after--pre">&lt;Body&gt;<br> &lt;center&gt;<br> &lt;h1&gt;<br> Hello from server!<br> &lt;/h1&gt;<br> &lt;/center&gt;<br>&lt;/Body&gt;<br>&lt;/HTML&gt;</pre><ul class="postList"><li name="b1f3" id="b1f3" class="graf graf--li graf-after--pre"><strong class="markup--strong markup--li-strong">Wget</strong>: Save the received HTML text into a file.</li></ul><pre name="5489" id="5489" class="graf graf--pre graf-after--li">$ wget localhost:8000 <br> — 2019–12–23 17:44:16 — <a href="http://localhost:8000/" data-href="http://localhost:8000/" class="markup--anchor markup--pre-anchor" rel="nofollow" target="_blank">http://localhost:8000/</a><br>Resolving localhost (localhost)… 127.0.0.1<br>Connecting to localhost (localhost)|127.0.0.1|:8000... connected.<br>HTTP request sent, awaiting response… 200 OK<br>Length: unspecified<br>Saving to: ‘index.html’</pre><pre name="0506" id="0506" class="graf graf--pre graf-after--pre">index.html [ &lt;=&gt; ] 139 — .-KB/s in 0s</pre><pre name="a4fe" id="a4fe" class="graf graf--pre graf-after--pre">2019–12–23 17:44:16 (5.31 MB/s) — ‘index.html’ saved [139]</pre><p name="a87e" id="a87e" class="graf graf--p graf-after--pre">Being pretty simple in use, it’s good to try them all once.</p><blockquote name="899f" id="899f" class="graf graf--pullquote graf-after--p">The vast landscape of Computer Networking and Services is waiting to be explored. Hope this would have helped you to get some introduction in the field. Moving ahead, you can give my next blog on ‘HTTP &amp; WebSocket’ a read…</blockquote><div name="f76d" id="f76d" class="graf graf--mixtapeEmbed graf-after--pullquote graf--trailing"><a href="https://medium.com/mobile-development-group/http-websockets-9c6704e44a2a" data-href="https://medium.com/mobile-development-group/http-websockets-9c6704e44a2a" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/mobile-development-group/http-websockets-9c6704e44a2a"><strong class="markup--strong markup--mixtapeEmbed-strong">HTTP &amp; WebSockets</strong><br><em class="markup--em markup--mixtapeEmbed-em">How are they connected to sockets? How is HTTP evolving? HTTP/2? HTTP/3? QUIC? Is WebSockets the same as Sockets?…</em>medium.com</a><a href="https://medium.com/mobile-development-group/http-websockets-9c6704e44a2a" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="90607c2cb3aa0130c09f81af172c6055" data-thumbnail-img-id="1*rPm-NkSfCdSaqFayQ_l0lg.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*rPm-NkSfCdSaqFayQ_l0lg.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@ritikk" class="p-author h-card">Ritik kumar</a> on <a href="https://medium.com/p/cc465f340658"><time class="dt-published" datetime="2019-12-25T07:32:11.019Z">December 25, 2019</time></a>.</p><p><a href="https://medium.com/@ritikk/simple-servers-cc465f340658" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 20, 2020.</p></footer></article></body></html>
